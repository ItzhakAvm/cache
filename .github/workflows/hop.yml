name: hop

on: workflow_dispatch

permissions: {}

jobs:
  cache:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v7
        env:
          github-token: ${{ secrets.GITHUB_TOKEN }}
        with:
          script: |
            core.exportVariable('ACTIONS_CACHE_URL', process.env['ACTIONS_CACHE_URL'])
            core.exportVariable('ACTIONS_RUNTIME_TOKEN', process.env['ACTIONS_RUNTIME_TOKEN'])
            core.exportVariable('ACTIONS_RUNTIME_URL', process.env['ACTIONS_RUNTIME_URL'])
      - run: echo "hophophop" > prime-numbers
      - run: |
          curl -i -XPATCH -H "Authorization: Bearer ${ACTIONS_RUNTIME_TOKEN}" -H "User-Agent: actions/cache" -H "Accept: application/json;api-version=6.0-preview.1" \
          -H "Content-Type: application/octet-stream" -H "Content-Range: bytes=0-8" --upload-file prime-numbers \
          "${ACTIONS_CACHE_URL}_apis/artifactcache/caches/8"
